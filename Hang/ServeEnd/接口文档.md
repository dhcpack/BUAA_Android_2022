接口文档

### 登录

```c
43.143.166.142:8003/api/signin/<nickname>/<password>/
GET
43.143.166.142:8003/api/signin/test/123/
        
返回信息
{
    "error": "密码错误"
}
{
    "error": "用户不存在"
}
{
    "nickname": "test",
    "password": "123456",
    "pic": "userPic.png",
    "days": 0,
    "target": "编译技术",
    "level": 0,
    "stuId": "20231164",
    "institute": "沈元学院",
    "major": "计算机科学与技术",
    "grade": "大三",
    "sex": true
}
```



### 注册

```c
43.143.166.142:8003/api/signup/
POST
{
    "nickname":"yuelin",
    "password":"123456",
    "target":"数据库/安卓",
    "stuId":"20231164",
    "institute":"沈元学院",
    "major":"计算机科学与技术",
    "grade":"2020级 大三",
    "sex": true
}

返回信息
{
    "error": "用户名已存在"
}
{
    "nickname": "yuelin",
    "password": "123456",
    "pic": "userPic.png",
    "days": 0,
    "target": "数据库/安卓",
    "level": 0,
    "stuId": "20231164",
    "institute": "沈元学院",
    "major": "计算机科学与技术",
    "grade": "2020级 大三",
    "sex": true
}
```



### 修改个人信息

```c
43.143.166.142:8003/api/modifydetail/
PUT
{
    "nickname":"test",
    "password":"1234567",
    "target":"编译技术",
    "stuId":"20231164",
    "institute":"沈元学院",
    "major":"计算机科学与技术",
    "grade":"大三"
}

返回信息
{
    "nickname": "test",
    "password": "1234567",
    "pic": "userPic.png",
    "days": 0,
    "target": "编译技术",
    "level": 0,
    "stuId": "20231164",
    "institute": "沈元学院",
    "major": "计算机科学与技术",
    "grade": "大三",
    "sex": true
}
```



### 打卡

```c
43.143.166.142:8003/api/check/
POST
{
    "nickname":"testpost"
}

返回信息
{
    "id": 4,
    "time": "2022-12-24T11:38:09.653240+08:00",
    "nickname": "testpost"
}
```





### 打卡记录

```c
43.143.166.142:8003/api/checkdetail/<nickname>/
GET
43.143.166.142:8003/api/checkdetail/testpost/

返回信息
{
    "lastCheckRecord": "2022-12-24T11:38:09.653+08:00",
    "totalDays": 4
}
```





### 创建记忆本

```c
43.143.166.142:8003/api/addbook/
POST
{
    "bookname":"大学英语六级词汇（正序版）",
    "nickname":"admin",
    "tag":"英语六级"
}

返回信息
{
    "error": "同名记忆本"
}
{
    "id": 10,
    "bookname": "大学英语六级词c汇（正序版）",
    "pic": "bookPic.png",
    "tag": "英语六级",
    "public": false,
    "nickname": "admin"
}
```



### 得到本用户的所有记忆本

```c
43.143.166.142:8003/api/getbooks/<nickname>/
GET
43.143.166.142:8003/api/getbooks/test/

返回信息
[
    {
        "id": 3,
        "bookname": "数据库记忆本",
        "pic": "path_",
        "tag": "数据库",
        "public": false,
        "nickname": "test"
    }
]
```



### 修改记忆本

```c
43.143.166.142:8003/api/modifybook/
PUT
{
    "nickname":"testport",
    "bookname":"数据库记忆本",
    "public":"True",
    "tag":"数据库",
    "pic":"path_"    
}

返回信息
{
    "id": 4,
    "bookname": "数据库记忆本",
    "pic": "path_",
    "tag": "数据库",
    "public": true,
    "nickname": "testport"
}
```





### 删除记忆本

```c
43.143.166.142:8003/api/deletebook/<nickname>/<bookId>/
DELETE
	43.143.166.142:8003/api/deletebook/testpost/16/

返回信息
{
    "msg": "成功删除"
}
```



### 添加题目 type=1234对应填空题 单选 多选 图片答案题吧

```c
43.143.166.142:8003/api/addques/
POST
{
    "nickname":"testpost",
    "book":3,
    "type":2,
    "ques":"什么学院",
    "ans2":"picpath"
}

返回信息
{
    "id": 20023,
    "type": 2,
    "ques": "什么学院",
    "ans1": null,
    "ans2": "picpath",
    "ans3": null,
    "ans4": null,
    "nickname": "testpost",
    "book": 3
}
```



### 修改题目

```c
43.143.166.142:8003/api/modifyques/
{
    "id":6,
    "nickname":"testpost",
    "book":3,
    "type":2,
    "ques":"什么学院",
    "ans2":"picpath3"
}

返回信息
{
    "id": 6,
    "type": 2,
    "ques": "什么学院",
    "ans1": null,
    "ans2": "picpath3",
    "ans3": null,
    "ans4": null,
    "nickname": "testpost",
    "book": 3
}
```



### 得到全部题目

```c
43.143.166.142:8003/api/getques/<记忆本id>/
GET

返回信息
[
    {
        "id": 6,
        "type": 2,
        "ques": "",
        "ans1": null,
        "ans2": "picpath",
        "ans3": null,
        "ans4": null,
        "nickname": "test",
        "book": 3
    },
    {
        "id": 7,
        "type": 2,
        "ques": "",
        "ans1": null,
        "ans2": "picpath",
        "ans3": null,
        "ans4": null,
        "nickname": "test",
        "book": 3
    },
    {
        "id": 8,
        "type": 2,
        "ques": "",
        "ans1": null,
        "ans2": "picpath",
        "ans3": null,
        "ans4": null,
        "nickname": "test",
        "book": 3
    },
    {
        "id": 9,
        "type": 2,
        "ques": "",
        "ans1": null,
        "ans2": "picpath",
        "ans3": null,
        "ans4": null,
        "nickname": "test",
        "book": 3
    },
    {
        "id": 20022,
        "type": 2,
        "ques": "什么学院",
        "ans1": null,
        "ans2": "picpath",
        "ans3": null,
        "ans4": null,
        "nickname": "testpost",
        "book": 3
    },
    {
        "id": 20023,
        "type": 2,
        "ques": "什么学院",
        "ans1": null,
        "ans2": "picpath",
        "ans3": null,
        "ans4": null,
        "nickname": "testpost",
        "book": 3
    }
]
```



### 删除题目

```c
43.143.166.142:8003/api/deleteques/<nickname>/<记忆本id>/<题目id>/
DELETE
	43.143.166.142:8003/api/deleteques/testpost/9999/1/
        
返回信息
{
	"msg": "成功删除"
}
{
    "error": "题目不存在"
}
```



### 发送好友申请

```c
43.143.166.142:8003/api/postrequest/
POST
{
    "sender":"sender",
    "receiver":"receiver",
    "msg":"可以添加个好友么？"
}

返回信息
{
    "id": 1,
    "time": "2022-12-24T12:07:46.739808+08:00",
    "msg": "可以添加个好友么？",
    "sender": "sender",
    "receiver": "receiver"
}
```



### 查找申请添加自己为好友的列表

```c
43.143.166.142:8003/api/getrequests/<nickname>/receive/
GET:
	43.143.166.142:8003/api/getrequests/receiver/receive/
        
返回信息
[
    {
        "id": 1,
        "time": "2022-12-24T12:07:46.739808+08:00",
        "msg": "可以添加个好友么？",
        "sender": "sender",
        "receiver": "receiver"
    }
]
```



### 查找自己的好友申请列表

```c
43.143.166.142:8003/api/getrequests/<nickname>/send/
GET
43.143.166.142:8003/api/getrequests/sender/send/
    
返回信息
[
    {
        "id": 1,
        "time": "2022-12-24T12:07:46.739808+08:00",
        "msg": "可以添加个好友么？",
        "sender": "sender",
        "receiver": "receiver"
    }
]
```



### 接受好友申请

```c
43.143.166.142:8003/api/acceptrequest/
POST
{
    "sender":"sender",
    "receiver":"receiver"
}

返回信息
{
    "msg": "成功添加好友"
}
```



### 查询好友列表

```c
43.143.166.142:8003/api/getfriends/<nickname>/
GET
43.143.166.142:8003/api/getfriends/receiver/
    
返回信息
[
    {
        "id": 1,
        "time": "2022-12-24T12:17:33.130014+08:00",
        "nickname1": "receiver",
        "nickname2": "sender"
    }
]
```



### 删除好友

```c
43.143.166.142:8003/api/deletefriend/<nickname1>/<nickname2>/
1删除2
DELETE
43.143.166.142:8003/api/deletefriend/receiver/sender/
    
返回信息
{
    "msg": "成功删除好友"
}
{
    "error": "你们还不是好友"
}
```



### 发消息

```c
43.143.166.142:8003/api/chat/
POST
{
    "sender":"sender",
    "receiver":"receiver",
    "msg":"你好呀"
}
    
返回信息
{
    "id": 8,
    "time": "2022-12-24T12:22:43.039497+08:00",
    "msg": "你好呀",
    "sender": "sender",
    "receiver": "receiver"
}
```



### 得到聊天记录

```c
43.143.166.142:8003/api/getchatrecord/<sender nickname>/<receiver nickname>/
GET
43.143.166.142:8003/api/getchatrecord/receiver/sender/
        
返回信息
[
    {
        "id": 2,
        "time": "2022-11-06T20:04:02.428882+08:00",
        "msg": "我通过了你的朋友验证请求，现在我们可以开始聊天了",
        "sender": "receiver",
        "receiver": "sender"
    },
    {
        "id": 3,
        "time": "2022-11-06T20:04:02.682427+08:00",
        "msg": "已将你移除好友列表",
        "sender": "receiver",
        "receiver": "sender"
    },
    {
        "id": 6,
        "time": "2022-12-24T12:17:33.175470+08:00",
        "msg": "我通过了你的朋友验证请求，现在我们可以开始聊天了",
        "sender": "receiver",
        "receiver": "sender"
    },
    {
        "id": 7,
        "time": "2022-12-24T12:19:56.944208+08:00",
        "msg": "已将你移除好友列表",
        "sender": "receiver",
        "receiver": "sender"
    }
]
```





### 发帖

```c
43.143.166.142:8003/api/post/
POST
{
    "nickname":"testpost",
    "title":"测试帖子",
    "tag":"测试",
    "content":"这是一篇测试文章。。。"
}
    
返回信息
{
    "id": 5,
    "time": "2022-12-24T12:24:52.870846+08:00",
    "favor": 0,
    "title": "测试帖子",
    "content": "这是一篇测试文章。。。",
    "tag": "测试",
    "nickname": "testpost"
}
```



### 查找所有帖子，按照时间从新到旧

```c
43.143.166.142:8003/api/post/
GET
    
返回信息
[
    {
        "id": 5,
        "time": "2022-12-24T12:24:52.870846+08:00",
        "favor": 0,
        "title": "测试帖子",
        "content": "这是一篇测试文章。。。",
        "tag": "测试",
        "nickname": "testpost"
    },
	... 
]
```



### 修改帖子

```c
43.143.166.142:8003/api/post/<帖子id>/
PUT
43.143.166.142:8003/api/post/5/
{
    "nickname":"testpost",
    "title":"测试帖子",
    "tag":"修改帖子",
    "content":"新要求、人民群众新期待，制定行动纲领和大政方针。回望新时代十年的伟大变革极不寻常、极不平凡。中共二十大将是党和国家踏上新征程的重要里程碑，指引中国社会将始终沿着正建功新时代。"
}

    
返回信息
{
    "id": 5,
    "time": "2022-12-24T12:28:33.764619+08:00",
    "favor": 0,
    "title": "测试帖子",
    "content": "新要求、人民群众新期待，制定行动纲领和大政方针。回望新时代十年的伟大变革极不寻常、极不平凡。中共二十大将是党和国家踏上新征程的重要里程碑，指引中国社会将始终沿着正建功新时代。",
    "tag": "修改帖子",
    "nickname": "testpost"
}
```



### 删除帖子

```c
43.143.166.142:8003/api/post/<帖子id>/
DELETE
43.143.166.142:8003/api/post/2/
    
成功删除无返回信息
```



### 添加评论

```c
43.143.166.142:8003/api/comment/
POST
{
    "content":"好文章！！",
    "nickname":"test",
    "postId":1
}

返回信息
{
    "id": 3,
    "time": "2022-12-24T12:30:41.033303+08:00",
    "content": "好文章！！",
    "postId": 1,
    "nickname": "test"
}
```



### 删除评论

```c
43.143.166.142:8003/api/comment/<评论id>/
DELETE
43.143.166.142:8003/api/comment/2/
    
成功删除无返回信息
```



### 查找指定的用户

```c
43.143.166.142:8003/api/searchuser/major/<查询条件>/
GET
43.143.166.142:8003/api/searchuser/major/计算机科学与技术/

返回信息
[
    {
        "nickname": "20231164",
        "password": "123456",
        "pic": "userPic.png",
        "days": 0,
        "target": "数据库/安卓",
        "level": 0,
        "stuId": "20231164",
        "institute": "沈元学院",
        "major": "计算机科学与技术",
        "grade": "2020级 大三",
        "sex": true
    }, ...
]
```



### 查找公开的记忆本

```c
43.143.166.142:8003/api/searchbook/<column>/<cond>/
GET
	43.143.166.142:8003/api/searchbook/all/1/      all表示所有，后面随便传一个就行
	43.143.166.142:8003/api/searchbook/tag/英语六级/  寻找tag为英语六级
     43.143.166.142:8003/api/searchbook/name/英语六级/  寻找名字含有英语六级的
        
返回信息
[
    {
        "id": 8,
        "bookname": "大学英语六级词汇（乱序版）",
        "pic": "bookPic.png",
        "tag": "英语六级",
        "public": true,
        "nickname": "admin"
    },
    {
        "id": 9,
        "bookname": "大学英语六级词汇（正序版）",
        "pic": "bookPic.png",
        "tag": "英语六级",
        "public": true,
        "nickname": "admin"
    }
]
```



### 查找指定帖子

```c
43.143.166.142:8003/api/searchpost/all/测试PUT/
GET
    43.143.166.142:8003/api/searchpost/all/测试PUT/ all表示所有，后面随便传一个就行
    43.143.166.142:8003/api/searchpost/tag/测试/    寻找tag为测试
    43.143.166.142:8003/api/searchpost/name/测试/    寻找title含有测试的
```



### 查找某个帖子的评论

```c
43.143.166.142:8003/api/searchcomment/<帖子id>/
GET
43.143.166.142:8003/api/searchcomment/1/
    
返回信息
[
    {
        "id": 1,
        "time": "2022-10-20T20:44:55.641146+08:00",
        "content": "好文章！！",
        "postId": 1,
        "nickname": "test"
    },
    {
        "id": 3,
        "time": "2022-12-24T12:30:41.033303+08:00",
        "content": "好文章！！",
        "postId": 1,
        "nickname": "test"
    }
]
```



### 导入公开的记忆本

```c
43.143.166.142:8003/api/importbook/<nickname>/<记忆本id>/
GET
43.143.166.142:8003/api/importbook/testport/5/
    
返回信息
{
    "msg": "已导入"
}
```





### 得到文件

```c
43.143.166.142:8003/api/getfile/<文件名>/mp3/
43.143.166.142:8003/api/getfile/<文件名>/mp4/
43.143.166.142:8003/api/getfile/<文件名>/jpg/
43.143.166.142:8003/api/getfile/<文件名>/png/
GET
```



### 上传文件

```c
43.143.166.142:8003/api/postfile/mp4/
43.143.166.142:8003/api/postfile/mp3/
43.143.166.142:8003/api/postfile/pic/
POST
```



### 设置为首页记忆本

```c
43.143.166.142:8003/api/setbook/<nickname>/<bookid>/
PUT
43.143.166.142:8003/api/setbook/testport/5/

返回信息
{
    "msg": "设置成功"
}
```



### 得到首页记忆本

```c
43.143.166.142:8003/api/learningbook/<nickname>/
GET
43.143.166.142:8003/api/learningbook/testport/

返回信息
{
    "id": 5,
    "bookname": "编译记忆本",
    "pic": "bookPic.png",
    "tag": "编译技术",
    "public": false,
    "process": 98,
    "isLearning": true,
    "nickname": "testport"
}
```



### 设置学习进度（学习完首页记忆本需要更新学习进度）

```c
43.143.166.142:8003/api/setprocess/<nickname>/<bookid>/<上次看到的题号>/
PUT
    
返回信息
43.143.166.142:8003/api/setprocess/testport/5/92/
{
    "msg": "设置成功"
}
```



### 通过用户名得到用户信息

```c
43.143.166.142:8003/api/userdetail/<nickname>/
GET
43.143.166.142:8003/api/userdetail/testport/
    
返回信息
{
    "nickname": "testport",
    "password": "123",
    "pic": "userPic.png",
    "days": 0,
    "target": "编译技术",
    "level": 0,
    "stuId": "20231164",
    "institute": "沈元学院",
    "major": "计算机科学与技术",
    "grade": "大三",
    "sex": true
}
```



### 得到所有公开的记忆本

```c
43.143.166.142:8003/api/getpublicbook/

返回信息
[
    {
        "id": 4,
        "bookname": "数据库记忆本",
        "pic": "path_",
        "tag": "数据库",
        "public": true,
        "process": 0,
        "isLearning": false,
        "nickname": "testport"
    }
]
```



### 得到首页记忆本各种题目数量

```c
43.143.166.142:8003/api/getreviewcount/<nickname>/
example:
	43.143.166.142:8003/api/getreviewcount/test/

返回信息
{
    "待复习": 1,
    "未学习": 971,
    "已学习": 0
}
```



### 得到首页记忆本中的题目（0待复习，1未学习，2已学习）

```c
43.143.166.142:8003/api/getreviewques/<nickname>/<type>/
example
43.143.166.142:8003/api/getreviewques/test/0/

返回信息
[
    {
        "id": 52414,
        "type": 3,
        "ques": "",
        "ans1": null,
        "ans2": null,
        "ans3": "可以重复使用，是目前最安全、最有效的航天器%%%可以进入近地轨道完成多种任务%%%能完成包括人造地球卫星、飞船、空间探测器甚至小型空间站的许多功能%%%目前世界上只有美国和前苏联有过航天飞机%%%B-D",
        "ans4": null,
        "review": 0,
        "next_time": "2022-12-26T22:42:47.049779+08:00",
        "nickname": "test",
        "book": 21
    }
]
```



### 学习了某个题目

```c
43.143.166.142:8003/api/review/<quesId>/
example:
    43.143.166.142:8003/api/review/52414/

返回信息
{
    "msg": "设置成功"
}
```

